# מערכת ניהול מלון דיאם

מערכת ניהול מקיפה עבור בתי האירוח של Diam - Rothschild ו-Airport Guest House. המערכת כוללת ממשק ניהול מאוחד ושני אתרי הזמנות נפרדים.

## התקנה

להתקנת כל הדרישות של הפרויקט:

```bash
npm run install-all
```

### דרישות מערכת
- Node.js גרסה 14 ומעלה
- MongoDB (מקומי או בענן)

### הגדרת קבצי סביבה
העתק את הקבצים `.env.example` ל-`.env` בתיקיות `server` ו-`client` והתאם את ההגדרות.

## הרצת הפרויקט

לפיתוח מקומי:

```bash
npm run dev
```

זה יפעיל את השרת על פורט 3200 ואת הקליינט על פורט 3000.

### כתובות גישה
- **ממשק ניהול**: http://localhost:3000
- **שרת ה-API**: http://localhost:3200

## טיפול בבעיות נפוצות

אם יש שגיאה כמו "EADDRINUSE" (הפורט כבר בשימוש), הרץ:

```bash
npm run kill-ports
```

זה יגרום לעצירת כל התהליכים שרצים על פורטים 3000 ו-3200.

אחרי זה נסה להריץ שוב:

```bash
npm run dev
```

## מבנה הפרויקט

הפרויקט מורכב משני חלקים עיקריים:

### קליינט (client)
- React אפליקציה
- מבנה קומפוננטות לפי קטגוריות:
  - `components/room` - קומפוננטות לניהול חדרים
  - `components/gallery` - קומפוננטות לניהול גלריה
  - `components/common` - קומפוננטות משותפות
- `pages` - דפי האפליקציה
- `context` - ניהול מצב (Context API)
- `services` - שירותים ובקשות API
- `utils` - פונקציות עזר
- `assets` - תמונות וסגנונות

### שרת (server)
- Node.js עם Express
- REST API
- MongoDB כמסד נתונים
- `controllers` - בקרים
- `models` - מודלים למסד הנתונים
- `routes` - הגדרת נתיבי API
- `middleware` - מידלוור
- `uploads` - תיקייה לאחסון קבצים מועלים

## מאפיינים

- **ממשק ניהול מאוחד**: ניהול כל בתי האירוח ממקום אחד
- **דאשבורד**: תצוגת נתונים מרכזית
- **ניהול הזמנות**: צפייה, עריכה וניהול הזמנות
- **קישור לאתרי ההזמנות**: גישה ישירה לאתרי ההזמנות

## טכנולוגיות

- **צד שרת**: Node.js, Express, MongoDB
- **צד לקוח**: React, Material-UI
- **אבטחה**: JWT

## מבנה המערכת

```
diam/
├── client/                   # צד לקוח (React)
│   ├── public/               # קבצים סטטיים
│   └── src/                  # קוד המקור
│       ├── components/       # רכיבים משותפים
│       ├── pages/            # דפי האפליקציה
│       ├── context/          # ניהול מצב (Context API)
│       ├── services/         # שירותי API
│       └── assets/           # תמונות וסגנונות
│
├── server/                   # צד שרת (Node.js + Express)
│   ├── controllers/          # בקרים
│   ├── models/               # מודלים למסד הנתונים
│   ├── routes/               # נתיבי API
│   ├── middleware/           # מידלוור
│   └── config/               # קבצי תצורה
│
└── uploads/                  # תיקייה לאחסון קבצים מועלים
```

## כניסה למערכת

לאחר הפעלת המערכת, ניתן להתחבר עם המשתמש הבא:

- שם משתמש: `admin`
- סיסמה: `admin123`

**שים לב:** בסביבת ייצור יש לשנות את הסיסמה הראשונית.

## מבנה המערכת

- **צד שרת (Backend)**: Node.js + Express + MongoDB
- **צד לקוח (Frontend)**: React + Material-UI
- **אבטחה**: JWT למנגנון אימות והרשאות

## דרישות מערכת

- Node.js גרסה 14 ומעלה
- NPM גרסה 6 ומעלה
- MongoDB (לוקאלי או MongoDB Atlas בענן)
- גישה לאינטרנט (עבור התקנת חבילות)
- דפדפן מודרני לפיתוח וגלישה

## הוראות התקנה

### שלב 1: הורדת הקוד

```bash
git clone [קישור למאגר]
cd diam
```

### שלב 2: התקנת תלויות

```bash
# התקנת כל התלויות (שרת + לקוח)
npm run install-all
```

או התקנה נפרדת:

```bash
# התקנת תלויות השרת
cd server
npm install

# התקנת תלויות הלקוח
cd ../client
npm install
```

### שלב 3: הגדרות סביבה

1. בתיקיית `server`, צור קובץ `.env` עם התוכן הבא:

```env
MONGODB_URI=mongodb://localhost:27017/diam_hotel
# או קישור למסד נתונים בענן
JWT_SECRET=your_jwt_secret_key
PORT=3100
```

2. בתיקיית `client`, צור קובץ `.env` עם התוכן הבא:

```env
REACT_APP_API_URL=http://localhost:3100/api
```

## הפעלה בסביבת פיתוח

### הפעלת המערכת המלאה (שרת + לקוח)

```bash
npm run dev
```

### הפעלה נפרדת

הפעלת השרת:

```bash
npm run server
```

הפעלת הלקוח:

```bash
npm run client
```

## בניית גרסה לייצור

```bash
npm run build
```

## מבנה תיקיות הפרויקט

```